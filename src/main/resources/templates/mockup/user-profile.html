<th:block th:replace="~{layout/base :: html(
    title='User Profile - Personal Finance Tracker',
    bodyClass='bg-gray-100',
    content=~{::content},
    extraHead=~{},
    extraScripts=~{::extraScripts}
)}">
    <th:block th:fragment="content">
        <div class="container mx-auto px-4 py-8">
            <h1 class="text-3xl font-bold mb-8">User Profile</h1>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <!-- User Information -->
                <div class="bg-white p-6 rounded-lg shadow">
                    <h2 class="text-xl font-semibold mb-4">User Information</h2>
                    <form id="userInfoForm" class="space-y-4">
                        <div>
                            <label for="username" class="block mb-1">Username</label>
                            <input type="text" id="username" class="w-full border rounded px-3 py-2" readonly>
                        </div>
                        <div>
                            <label for="email" class="block mb-1">Email</label>
                            <input type="email" id="email" class="w-full border rounded px-3 py-2" required>
                        </div>
                        <button type="submit" class="w-full bg-blue-500 text-white py-2 rounded hover:bg-blue-600">Update Information</button>
                    </form>
                </div>

                <!-- Change Password -->
                <div class="bg-white p-6 rounded-lg shadow">
                    <h2 class="text-xl font-semibold mb-4">Change Password</h2>
                    <form id="changePasswordForm" class="space-y-4">
                        <div>
                            <label for="currentPassword" class="block mb-1">Current Password</label>
                            <input type="password" id="currentPassword" class="w-full border rounded px-3 py-2" required>
                        </div>
                        <div>
                            <label for="newPassword" class="block mb-1">New Password</label>
                            <input type="password" id="newPassword" class="w-full border rounded px-3 py-2" required>
                        </div>
                        <div>
                            <label for="confirmPassword" class="block mb-1">Confirm New Password</label>
                            <input type="password" id="confirmPassword" class="w-full border rounded px-3 py-2" required>
                        </div>
                        <button type="submit" class="w-full bg-blue-500 text-white py-2 rounded hover:bg-blue-600">Change Password</button>
                    </form>
                </div>
            </div>
        </div>
    </th:block>

    <th:block th:fragment="extraScripts">
        <script>
            // Fetch user information
            async function fetchUserInfo() {
                // Implement user info fetching
                document.getElementById('username').value = 'JohnDoe';
                document.getElementById('email').value = 'john.doe@example.com';
            }

            // Update user information
            document.getElementById('userInfoForm').addEventListener('submit', async (e) => {
                e.preventDefault();
                // Implement user info update
            });

            // Change password
            document.getElementById('changePasswordForm').addEventListener('submit', async (e) => {
                e.preventDefault();
                // Implement password change
            });

            fetchUserInfo();
        </script>
    </th:block>
</th:block>